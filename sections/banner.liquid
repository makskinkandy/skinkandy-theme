<div class="banner-section {{ section.settings.class | escape }}" style="--height: {{ section.settings.height }}px; background-color: {{ section.settings.bg_color }};">
  <div class="page-width page-width--flush-small wrapper css-grid">
    <div class="section-image media-fit-contain">
      <picture>
        <source srcset="{{ section.settings.image | img_url: '900x' }}" media="(min-width: 601px)">
        <source srcset="{{ section.settings.image_mobile | default: section.settings.image | img_url: '600x' }}" media="(max-width: 600px)">
        <img src="{{ section.settings.image | img_url: '900x' }}" alt="{{ section.settings.image.alt | default: section.settings.heading | escape }}">
      </picture>
    </div>
    <div class="section-content">
      {%- if section.settings.preheading != blank -%}
        <p class="section-content__preheading h3">{{ section.settings.preheading | escape }}</p>
      {%- endif -%}

      {%- if section.settings.heading != blank -%}
        <{{ section.settings.heading_element }} class="section-content__heading h1">{{ section.settings.heading | newline_to_br }}</{{ section.settings.heading_element }}>
      {%- endif -%}

      {%- if section.settings.text != blank -%}
        <div class="section-content__text rte">{{ section.settings.text | newline_to_br }}</div>
      {%- endif -%}
        
      {%- if section.settings.link != blank and section.settings.linktext != blank -%}
        <a href="{{ section.settings.link | escape }}" class="section-content__link {{ section.settings.linkclass | escape }}">{{ section.settings.linktext | escape }}</a>
      {%- endif -%}
    </div>
  </div>
</div>  

{% schema %}
{
    "name": "Banner section",
    "settings": [
        {
            "type": "header",
            "content": "General settings"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Optional section class"
        },
        {
            "type": "color",
            "id": "bg_color",
            "label": "Background color",
            "default": "#FFF2D6"
        },
        {
            "type": "range",
            "id": "height",
            "label": "Section height - Desktop only",
            "default": 280,
            "min": 200,
            "max": 700,
            "step": 10,
            "unit": "px"
        },
        {
            "type": "header",
            "content": "Banner contents"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
            "info": "Recommended format - PNG"
        },
        {
            "type": "image_picker",
            "id": "image_mobile",
            "label": "Optional mobile image",
            "info": "Recommended format - PNG"
        },
        {
            "type": "text",
            "id": "preheading",
            "label": "Preheading"    
        },
        {
            "type": "richtext",
            "id": "heading",
            "label": "Heading"    
        },
        {
          "type": "radio",
          "id": "heading_element",
          "label": "Heading Element",
          "default": "h2",
          "options": [
              {
                "value": "h1",
                "label": "H1"
              },
              {
                "value": "h2",
                "label": "H2"
              }
          ]
        },
        {
            "type": "richtext",
            "id": "text",
            "label": "Text"    
        },
        {
            "type": "url",
            "id": "link",
            "label": "Link"    
        },
        {
            "type": "text",
            "id": "linktext",
            "label": "Linktext"    
        },
        {
            "type": "text",
            "id": "linkclass",
            "label": "Optional link class"    
        }
    ],
    "presets": [{
        "name": "Banner"
    }]
}
{% endschema %}