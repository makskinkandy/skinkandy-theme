{% if settings.ss_enable %}

  {% comment %} Searchspring search form {% endcomment %}
  <form action="/collections/{{ settings.ss_collection_handle }}" method="get" class="input-group search-bar {{ search_bar_location }} {{ class }}" role="search">
    <input type="search" name="q" value="{{ search.terms | escape | replace: '*', '' }}" placeholder="{{ 'general.search.placeholder' | t }}" class="searchspring-ac input-group-field" aria-label="{{ 'general.search.placeholder' | t }}">
    <button type="submit">
      <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-search" viewBox="0 0 64 64"><path d="M47.16 28.58A18.58 18.58 0 1 1 28.58 10a18.58 18.58 0 0 1 18.58 18.58zM54 54L41.94 42"/></svg>
      <span class="icon__fallback-text">{{ 'general.search.submit' | t }}</span>
    </button>
  </form>

{% else %}

<form action="{{ routes.search_url }}" method="get" class="input-group search-bar {{ search_bar_location }} {{ class }}" role="search">
  <input type="hidden" name="type" value="{{ settings.search_type }}">
  <input type="hidden" name="options[prefix]" value="last">
  <input type="search" name="q" value="{{ search.terms | escape | replace: '*', '' }}" placeholder="{{ 'general.search.placeholder' | t }}" class="input-group-field" aria-label="{{ 'general.search.placeholder' | t }}">
  <button type="submit">
    <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-search" viewBox="0 0 64 64"><path d="M47.16 28.58A18.58 18.58 0 1 1 28.58 10a18.58 18.58 0 0 1 18.58 18.58zM54 54L41.94 42"/></svg>
    <span class="icon__fallback-text">{{ 'general.search.submit' | t }}</span>
  </button>
</form>

{% endif %}